import{j as e,x as D,T,P as r,r as m,S as O,X,I as C,e as j,f as Y,M as P,B,a0 as G,$ as J,a1 as k,i as K,h as Q,W as Z}from"./index-616d04fa.js";import{u as _}from"./UserService-413c3266.js";import{T as S,a as h,b as ee,c as ne,d as se,e as te,f as re,g as ie}from"./TableSortLabel-e0786fb5.js";import{L as ae}from"./label-88fcf972.js";import{C as R}from"./Checkbox-09f139d7.js";import{O as oe}from"./Select-6f5489b0.js";import{C as le}from"./Container-7e43c108.js";import{C as ce}from"./Card-adf44836.js";import"./axios-9cbf0d09.js";import"./Menu-7f489778.js";function U({query:n}){return e.jsx(S,{children:e.jsx(h,{align:"center",colSpan:6,sx:{py:3},children:e.jsxs(D,{sx:{textAlign:"center"},children:[e.jsx(T,{variant:"h6",paragraph:!0,children:"Not found"}),e.jsxs(T,{variant:"body2",children:["No results found for Â ",e.jsxs("strong",{children:['"',n,'"']}),".",e.jsx("br",{})," Try checking for typos or using complete words."]})]})})})}U.propTypes={query:r.string};function F({selected:n,name:t,avatarUrl:s,company:c,role:o,isVerified:x,status:l,handleClick:f}){const[a,b]=m.useState(null),y=g=>{b(g.currentTarget)},v=()=>{b(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(S,{hover:!0,tabIndex:-1,role:"checkbox",selected:n,children:[e.jsx(h,{padding:"checkbox",children:e.jsx(R,{disableRipple:!0,checked:n,onChange:f})}),e.jsx(h,{component:"th",scope:"row",padding:"none",children:e.jsxs(O,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(X,{alt:t,src:s}),e.jsx(T,{variant:"subtitle2",noWrap:!0,children:t})]})}),e.jsx(h,{children:c}),e.jsx(h,{children:o}),e.jsx(h,{align:"center",children:x?"Yes":"No"}),e.jsx(h,{children:e.jsx(ae,{color:l==="banned"&&"error"||"success",children:l})}),e.jsx(h,{align:"right",children:e.jsx(C,{onClick:y,children:e.jsx(j,{icon:"eva:more-vertical-fill"})})})]}),e.jsxs(Y,{open:!!a,anchorEl:a,onClose:v,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:140}},children:[e.jsxs(P,{onClick:v,children:[e.jsx(j,{icon:"eva:edit-fill",sx:{mr:2}}),"Edit"]}),e.jsxs(P,{onClick:v,sx:{color:"error.main"},children:[e.jsx(j,{icon:"eva:trash-2-outline",sx:{mr:2}}),"Delete"]})]})]})}F.propTypes={avatarUrl:r.any,company:r.any,handleClick:r.func,isVerified:r.any,name:r.any,role:r.any,selected:r.any,status:r.string};const de={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function he(n,t,s){return n?Math.max(0,(1+n)*t-s):0}function I(n,t,s){return n[s]===null?1:t[s]===null||t[s]<n[s]?-1:t[s]>n[s]?1:0}function xe(n,t){return n==="desc"?(s,c)=>I(s,c,t):(s,c)=>-I(s,c,t)}function ue({inputData:n,comparator:t,filterName:s}){const c=n.map((o,x)=>[o,x]);return c.sort((o,x)=>{const l=t(o[0],x[0]);return l!==0?l:o[1]-x[1]}),n=c.map(o=>o[0]),s&&(n=n.filter(o=>o.name.toLowerCase().indexOf(s.toLowerCase())!==-1)),n}function N({order:n,orderBy:t,rowCount:s,headLabel:c,numSelected:o,onRequestSort:x,onSelectAllClick:l}){const f=a=>b=>{x(b,a)};return e.jsx(ee,{children:e.jsxs(S,{children:[e.jsx(h,{padding:"checkbox",children:e.jsx(R,{indeterminate:o>0&&o<s,checked:s>0&&o===s,onChange:l})}),c.map(a=>e.jsx(h,{align:a.align||"left",sortDirection:t===a.id?n:!1,sx:{width:a.width,minWidth:a.minWidth},children:e.jsxs(ne,{hideSortIcon:!0,active:t===a.id,direction:t===a.id?n:"asc",onClick:f(a.id),children:[a.label,t===a.id?e.jsx(B,{sx:{...de},children:n==="desc"?"sorted descending":"sorted ascending"}):null]})},a.id))]})})}N.propTypes={order:r.oneOf(["asc","desc"]),orderBy:r.string,rowCount:r.number,headLabel:r.array,numSelected:r.number,onRequestSort:r.func,onSelectAllClick:r.func};function A({emptyRows:n,height:t}){return n?e.jsx(S,{sx:{...t&&{height:t*n}},children:e.jsx(h,{colSpan:9})}):null}A.propTypes={emptyRows:r.number,height:r.number};function L({numSelected:n,filterName:t,onFilterName:s}){return e.jsxs(G,{sx:{height:96,display:"flex",justifyContent:"space-between",p:c=>c.spacing(0,1,0,3),...n>0&&{color:"primary.main",bgcolor:"primary.lighter"}},children:[n>0?e.jsxs(T,{component:"div",variant:"subtitle1",children:[n," selected"]}):e.jsx(oe,{value:t,onChange:s,placeholder:"Search user...",startAdornment:e.jsx(J,{position:"start",children:e.jsx(j,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})}),n>0?e.jsx(k,{title:"Delete",children:e.jsx(C,{children:e.jsx(j,{icon:"eva:trash-2-fill"})})}):e.jsx(k,{title:"Filter list",children:e.jsx(C,{children:e.jsx(j,{icon:"ic:round-filter-list"})})})]})}L.propTypes={numSelected:r.number,filterName:r.string,onFilterName:r.func};function pe(){const[n,t]=m.useState([]);m.useEffect(()=>{async function i(){const d=await _();t(d)}i()},[]);const[s,c]=m.useState(0),[o,x]=m.useState("asc"),[l,f]=m.useState([]),[a,b]=m.useState("name"),[y,v]=m.useState(""),[g,E]=m.useState(5),M=(i,d)=>{d!==""&&(x(a===d&&o==="asc"?"desc":"asc"),b(d))},V=i=>{if(i.target.checked){const d=n.map(u=>u.name);f(d);return}f([])},W=(i,d)=>{const u=l.indexOf(d);let p=[];u===-1?p=p.concat(l,d):u===0?p=p.concat(l.slice(1)):u===l.length-1?p=p.concat(l.slice(0,-1)):u>0&&(p=p.concat(l.slice(0,u),l.slice(u+1))),f(p)},q=(i,d)=>{c(d)},z=i=>{c(0),E(parseInt(i.target.value,10))},H=i=>{c(0),v(i.target.value)},w=ue({inputData:n,comparator:xe(o,a),filterName:y}),$=!w.length&&!!y;return e.jsxs(le,{children:[e.jsxs(O,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[e.jsx(T,{variant:"h4",children:"Users"}),e.jsx(K,{variant:"contained",color:"inherit",startIcon:e.jsx(j,{icon:"eva:plus-fill"}),children:"New User"})]}),e.jsxs(ce,{children:[e.jsx(L,{numSelected:l.length,filterName:y,onFilterName:H}),e.jsx(Q,{children:e.jsx(se,{sx:{overflow:"unset"},children:e.jsxs(te,{sx:{minWidth:800},children:[e.jsx(N,{order:o,orderBy:a,rowCount:n.length,numSelected:l.length,onRequestSort:M,onSelectAllClick:V,headLabel:[{id:"name",label:"Name"},{id:"company",label:"Company"},{id:"role",label:"Role"},{id:"isVerified",label:"Verified",align:"center"},{id:"status",label:"Status"},{id:""}]}),e.jsxs(re,{children:[w.slice(s*g,s*g+g).map(i=>e.jsx(F,{name:i.name,role:i.role,status:i.status,company:i.company,avatarUrl:i.avatarUrl,isVerified:i.isVerified,selected:l.indexOf(i.name)!==-1,handleClick:d=>W(d,i.name)},i.id)),e.jsx(A,{height:77,emptyRows:he(s,g,n.length)}),$&&e.jsx(U,{query:y})]})]})})}),e.jsx(ie,{page:s,component:"div",count:n.length,rowsPerPage:g,onPageChange:q,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:z})]})]})}function we(){return e.jsxs(e.Fragment,{children:[e.jsx(Z,{children:e.jsx("title",{children:" User List "})}),e.jsx(pe,{})]})}export{we as default};
